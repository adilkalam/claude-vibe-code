{
  "task_type": "ios-ui",
  "description": "iOS User Interface implementation tasks using SwiftUI or UIKit",
  "version": "1.0.0",
  "required_deliverables": [
    {
      "id": "source_files",
      "type": "file",
      "description": "Swift source files must exist",
      "pattern": "**/*.swift",
      "min_count": 1,
      "verification_command": "find . -name '*.swift' -type f",
      "failure_message": "No Swift source files found"
    },
    {
      "id": "ios_screenshot",
      "type": "screenshot",
      "description": "iOS Simulator screenshot showing implemented UI",
      "location": ".orchestration/evidence/ios-simulator.png",
      "required": true,
      "verification_command": "ls .orchestration/evidence/ios-simulator.png",
      "failure_message": "iOS Simulator screenshot missing - cannot verify UI implementation"
    },
    {
      "id": "build_success",
      "type": "build",
      "description": "Xcode build must succeed (exit code 0)",
      "command": "xcodebuild build -scheme [PROJECT_SCHEME] -destination 'platform=iOS Simulator,name=iPhone 15'",
      "expected_exit_code": 0,
      "verification_command": "xcodebuild build",
      "failure_message": "Build failed - code does not compile"
    },
    {
      "id": "ui_tests",
      "type": "test_output",
      "description": "XCUITest or XCTest UI tests must pass",
      "command": "xcodebuild test -scheme [PROJECT_SCHEME] -destination 'platform=iOS Simulator,name=iPhone 15'",
      "expected_exit_code": 0,
      "required_pattern": "Test Suite.*passed",
      "verification_command": "xcodebuild test",
      "failure_message": "UI tests failed or were not run"
    },
    {
      "id": "accessibility_audit",
      "type": "accessibility",
      "description": "Accessibility Inspector audit or VoiceOver verification",
      "tool": "Accessibility Inspector",
      "required": true,
      "checks": [
        "All interactive elements have accessibility labels",
        "VoiceOver can navigate all UI elements",
        "Dynamic Type support verified",
        "Contrast ratios meet WCAG 2.1 AA"
      ],
      "verification_command": "grep -r 'accessibilityLabel\\|accessibilityHint' .",
      "failure_message": "Accessibility not verified - missing labels or audit"
    },
    {
      "id": "visual_review",
      "type": "design_review",
      "description": "design-reviewer 7-phase visual QA completed",
      "tool": "/visual-review or design-reviewer agent",
      "min_score": 70,
      "required": true,
      "verification_command": "ls .orchestration/evidence/design-review-report.md",
      "failure_message": "design-reviewer was not run - MANDATORY for production UIs"
    }
  ],
  "verification_script": ".orchestration/oracles/ios-ui-verify.sh",
  "quality_gate_threshold": 100,
  "notes": [
    "ALL deliverables are REQUIRED for ios-ui tasks",
    "Screenshot Diff will be added in Stage 3 Week 5",
    "Behavioral Oracles (XCUITest automation) will be added in Stage 2 Week 4"
  ]
}
