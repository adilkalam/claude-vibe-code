{
  "version": "1.0.0",
  "description": "Intent-Based Dispatch Taxonomy - Replaces complexity scoring",
  "last_updated": "2025-10-25",

  "intents": {
    "build_component": {
      "description": "Create new UI component",
      "domains": ["frontend", "ios", "design"],
      "minimum_specialists": 2,
      "required_specialists": ["domain-specialist", "design-reviewer"],
      "optional_specialists": ["test-engineer", "accessibility-specialist"],
      "evidence_required": [
        "component_file",
        "screenshot",
        "visual_review"
      ],
      "stage_4_required": true,
      "keywords": ["build", "create", "component", "card", "button", "view", "screen"]
    },

    "add_feature": {
      "description": "Add new functionality to existing system",
      "domains": ["all"],
      "minimum_specialists": 2,
      "required_specialists": ["domain-specialist", "test-engineer"],
      "optional_specialists": ["system-architect"],
      "evidence_required": [
        "implementation",
        "tests",
        "documentation"
      ],
      "stage_4_required": true,
      "keywords": ["add", "implement", "feature", "functionality"]
    },

    "refactor": {
      "description": "Improve code structure without changing behavior",
      "domains": ["all"],
      "minimum_specialists": 2,
      "required_specialists": ["domain-specialist", "test-engineer"],
      "optional_specialists": [],
      "evidence_required": [
        "git_diff",
        "tests_passing",
        "behavior_verification"
      ],
      "stage_4_required": true,
      "keywords": ["refactor", "improve", "restructure", "reorganize"]
    },

    "debug_issue": {
      "description": "Investigate and fix bugs",
      "domains": ["all"],
      "minimum_specialists": 2,
      "required_specialists": ["domain-specialist", "test-engineer"],
      "optional_specialists": [],
      "evidence_required": [
        "reproduction_steps",
        "root_cause_analysis",
        "fix_verification",
        "regression_test"
      ],
      "stage_4_required": true,
      "keywords": ["debug", "fix", "bug", "issue", "error", "crash"]
    },

    "design_screen": {
      "description": "Create new UI screen/page",
      "domains": ["frontend", "ios", "design"],
      "minimum_specialists": 3,
      "required_specialists": ["ux-strategist", "visual-designer", "domain-specialist"],
      "optional_specialists": ["design-system-architect", "accessibility-specialist"],
      "evidence_required": [
        "wireframes",
        "implementation",
        "screenshot",
        "design_review_approval",
        "accessibility_check"
      ],
      "stage_4_required": true,
      "keywords": ["design", "screen", "page", "view", "interface"]
    },

    "improve_styling": {
      "description": "Enhance visual design and styling",
      "domains": ["frontend", "ios", "design"],
      "minimum_specialists": 2,
      "required_specialists": ["visual-designer", "design-reviewer"],
      "optional_specialists": ["tailwind-specialist", "css-specialist"],
      "evidence_required": [
        "before_screenshot",
        "after_screenshot",
        "design_review_approval"
      ],
      "stage_4_required": true,
      "keywords": ["style", "styling", "design", "visual", "appearance", "premium"]
    },

    "investigate_codebase": {
      "description": "Understand existing code structure",
      "domains": ["all"],
      "minimum_specialists": 1,
      "required_specialists": ["system-architect"],
      "optional_specialists": ["domain-specialist"],
      "evidence_required": [
        "architectural_summary"
      ],
      "stage_4_required": false,
      "keywords": ["investigate", "understand", "explore", "analyze", "codebase"]
    },

    "setup_project": {
      "description": "Initialize new project or configure environment",
      "domains": ["all"],
      "minimum_specialists": 2,
      "required_specialists": ["system-architect", "infrastructure-engineer"],
      "optional_specialists": ["test-engineer"],
      "evidence_required": [
        "project_structure",
        "configuration_files",
        "build_verification"
      ],
      "stage_4_required": true,
      "keywords": ["setup", "initialize", "configure", "install", "create project"]
    }
  },

  "domain_specialists": {
    "frontend": {
      "primary": ["react-18-specialist", "nextjs-14-specialist"],
      "supporting": ["tailwind-specialist", "state-management-specialist", "frontend-performance-specialist", "frontend-testing-specialist"]
    },
    "ios": {
      "primary": ["swiftui-developer", "uikit-specialist"],
      "supporting": ["swiftdata-specialist", "coredata-expert", "state-architect", "observation-specialist", "urlsession-expert"]
    },
    "backend": {
      "primary": ["backend-engineer"],
      "supporting": []
    },
    "design": {
      "primary": ["visual-designer", "ux-strategist"],
      "supporting": ["design-system-architect", "tailwind-specialist", "css-specialist", "ui-engineer", "accessibility-specialist", "design-reviewer"]
    },
    "infrastructure": {
      "primary": ["infrastructure-engineer", "system-architect"],
      "supporting": []
    },
    "testing": {
      "primary": ["test-engineer"],
      "supporting": ["frontend-testing-specialist", "xctest-pro", "swift-testing-specialist", "ui-testing-expert"]
    }
  },

  "intent_matching_rules": {
    "description": "Rules for extracting intent from user request",
    "keyword_matching": {
      "enabled": true,
      "min_confidence": 0.6,
      "description": "Match request keywords against intent keywords"
    },
    "domain_detection": {
      "enabled": true,
      "rules": [
        {
          "keywords": ["Next.js", "React", "frontend", "web", "browser", "tailwind"],
          "domain": "frontend"
        },
        {
          "keywords": ["iOS", "Swift", "SwiftUI", "UIKit", "Xcode", "iPhone", "iPad"],
          "domain": "ios"
        },
        {
          "keywords": ["API", "backend", "server", "database", "endpoint"],
          "domain": "backend"
        },
        {
          "keywords": ["design", "UI", "UX", "visual", "premium", "styling", "layout"],
          "domain": "design"
        }
      ]
    },
    "quality_indicators": {
      "high_quality_keywords": ["premium", "production", "polished", "perfect", "professional"],
      "prototype_keywords": ["quick", "prototype", "draft", "MVP", "rough"],
      "description": "High quality keywords add design-reviewer and accessibility-specialist"
    }
  }
}
