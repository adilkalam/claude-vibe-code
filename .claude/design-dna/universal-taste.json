{
  "schema_version": "1.0.0",
  "scope": "universal",
  "description": "Cross-project design principles that apply to ALL projects",
  "last_updated": "2025-10-24",
  "core_philosophy": {
    "design_ocd": "Pixel-perfect precision where every element has mathematical justification",
    "quality_standard": "Zero-tolerance - not 'good enough', must be PERFECT",
    "evidence_over_assumptions": "Screenshots, measurements, and visual verification required",
    "build_right_first": "Upfront investment in proper design prevents iteration loops"
  },
  "universal_principles": {
    "mathematical_precision": {
      "description": "All spacing, sizing, and alignment must be mathematically calculated",
      "requirements": [
        "Use consistent spacing grid (4px, 8px, or other base unit)",
        "No arbitrary values (17px, 23px, 35px, 42px are forbidden)",
        "All spacing derives from base unit multiples",
        "Alignment calculated, not eyeballed"
      ],
      "rationale": "Mathematical systems create visual harmony and prevent inconsistency"
    },
    "optical_alignment": {
      "description": "Visual perception trumps geometric measurement",
      "principles": [
        "Mathematical center ≠ Visual center",
        "Rounded elements need offset for optical alignment",
        "Icons align to x-height, not baseline",
        "Border weight must be compensated in padding",
        "Heavy elements (bold, dark backgrounds) need more space"
      ],
      "formulas": {
        "border_compensation": "adjustedPadding = originalPadding - borderWidth",
        "triangle_offset": "horizontalOffset = containerWidth × 0.05-0.08 (round to grid)",
        "icon_vertical": "nudge 1-2px upward to align with text x-height"
      }
    },
    "visual_hierarchy": {
      "description": "The 'Eyes Test' - attention should snap to most important element instantly",
      "method": "Close eyes, open them - where does attention go first?",
      "requirements": [
        "Clear primary element (largest, highest contrast, or most prominent)",
        "Secondary elements support but don't compete",
        "Tertiary elements recede appropriately"
      ],
      "techniques": {
        "size": "Larger = more important",
        "weight": "Bolder = more important",
        "color": "Higher contrast = more important",
        "opacity": "Higher opacity = more important",
        "position": "Top-left or center = more important",
        "spacing": "More breathing room = more important"
      }
    },
    "typography_discipline": {
      "description": "Typography must serve readability and hierarchy",
      "requirements": [
        "Minimum readable sizes enforced (never below 12-14px for body text)",
        "Type scale uses mathematical ratios (not arbitrary jumps)",
        "Font weight selection has clear purpose (not decoration)",
        "Line height ensures readability (1.4-1.8 for body text)",
        "Letter spacing serves legibility (don't overuse)"
      ],
      "forbidden": [
        "Tiny unreadable text (<12px for body, <14px for labels)",
        "Random font size jumps (14px → 19px → 27px)",
        "Decorative weight changes without hierarchy purpose",
        "Tight line-height on long-form text (<1.4)",
        "Excessive letter-spacing (>0.2em) on lowercase body text"
      ]
    },
    "color_hierarchy": {
      "description": "Color serves hierarchy, not decoration",
      "principles": [
        "Opacity indicates importance (higher = more important)",
        "Accent colors reserved for <10% of elements",
        "Sufficient contrast for accessibility (WCAG AA minimum)",
        "Color meaning must be consistent (don't reuse accent for different purposes)"
      ],
      "opacity_scale": {
        "primary": "100% (titles, critical elements)",
        "high": "85-90% (important text, data)",
        "medium": "70-80% (body text, descriptions)",
        "subdued": "50-65% (labels, helpers, metadata)",
        "subtle": "30-50% (placeholders, disabled states)"
      },
      "accent_usage": {
        "limit": "<10% of elements on screen",
        "good_uses": ["call-to-action", "data_values", "active_states", "key_labels"],
        "bad_uses": ["body_text", "all_headings", "large_backgrounds", "decorative_borders"]
      }
    },
    "spacing_discipline": {
      "description": "Spacing creates rhythm and breathing room",
      "requirements": [
        "All spacing uses predefined tokens (no random values)",
        "Spacing hierarchy is intentional (larger gaps = stronger separation)",
        "Related elements have tighter spacing than unrelated elements",
        "Consistent spacing for same element types across the design"
      ],
      "hierarchy_pattern": {
        "tight": "Related elements within a group (4-8px)",
        "medium": "Between groups in same section (12-20px)",
        "loose": "Between sections (32-64px)",
        "expansive": "Between major page sections (80-160px)"
      },
      "forbidden": [
        "Random spacing values not in token system",
        "Inconsistent spacing for same element types",
        "Cramped layouts without breathing room",
        "Excessive spacing that breaks visual grouping"
      ]
    },
    "component_consistency": {
      "description": "Components should be reusable and consistent",
      "requirements": [
        "Same component type has same styling across designs",
        "Buttons have consistent padding, radius, and states",
        "Cards have consistent structure and hover behavior",
        "Forms have consistent input styling and validation states"
      ],
      "states": [
        "Default (resting state)",
        "Hover (interactive feedback)",
        "Active/Pressed (during interaction)",
        "Focus (keyboard navigation)",
        "Disabled (non-interactive)",
        "Error (validation failure)"
      ],
      "all_states_required": true
    },
    "animation_restraint": {
      "description": "Animation serves clarity, not spectacle",
      "philosophy": "Motion should enhance understanding, not distract",
      "requirements": [
        "Max duration: 0.3s (typically 0.15-0.2s)",
        "Max movement: 2-4px (subtle feedback only)",
        "Easing: ease-out for most transitions",
        "Purpose: Provide feedback, guide attention, maintain context"
      ],
      "forbidden": [
        "Auto-playing decorative animations",
        "Bouncing, spinning, pulsing effects",
        "Long duration transitions (>0.5s)",
        "Large movement that disorients (>10px)",
        "Animation without clear purpose"
      ],
      "good_uses": [
        "Hover state feedback (subtle lift, color change)",
        "Page transitions (maintain context)",
        "Loading indicators (communicate wait time)",
        "Success/error feedback (confirm action result)"
      ]
    },
    "responsive_design": {
      "description": "Layouts must adapt gracefully across screen sizes",
      "breakpoints_pattern": {
        "mobile": "<768px (single column, touch-friendly)",
        "tablet": "768-1023px (flexible layouts)",
        "desktop": "1024px+ (multi-column, hover states)"
      },
      "requirements": [
        "Touch targets minimum 44×44px on mobile",
        "Font sizes scale down gracefully (maintain readability)",
        "Spacing reduces proportionally (maintain rhythm)",
        "Navigation adapts (hamburger menu on mobile)",
        "Images optimize for bandwidth and display size"
      ],
      "forbidden": [
        "Fixed pixel widths that don't adapt",
        "Tiny touch targets on mobile (<40px)",
        "Horizontal scrolling on mobile",
        "Unreadable text on small screens"
      ]
    },
    "accessibility_baseline": {
      "description": "Design must be accessible to all users",
      "requirements": [
        "Color contrast minimum WCAG AA (4.5:1 for text, 3:1 for UI)",
        "Focus states visible and clear",
        "Semantic HTML structure",
        "Alt text for images",
        "Keyboard navigation support",
        "Screen reader compatibility"
      ],
      "forbidden": [
        "Color as only indicator (use icons, text, or patterns too)",
        "Invisible focus states",
        "Low contrast text (<4.5:1)",
        "Missing alt text on informative images",
        "Keyboard traps or unreachable elements"
      ]
    }
  },
  "verification_gates": {
    "mathematical_precision": {
      "checks": [
        "All spacing values are multiples of base grid",
        "No arbitrary pixel values found",
        "Alignment calculated with formulas",
        "Optical adjustments documented"
      ],
      "tools": ["design_dna_linter", "visual_ruler", "spacing_inspector"]
    },
    "visual_hierarchy": {
      "checks": [
        "Eyes test passes (attention goes to primary element)",
        "Clear primary, secondary, tertiary elements",
        "Size/weight/color hierarchy is intentional",
        "No competing elements of equal visual weight"
      ],
      "tools": ["screenshot_review", "visual_hierarchy_heatmap"]
    },
    "typography": {
      "checks": [
        "All font sizes above minimum thresholds",
        "Type scale follows mathematical progression",
        "Line heights ensure readability",
        "No decorative weight changes"
      ],
      "tools": ["design_dna_linter", "typography_analyzer"]
    },
    "color": {
      "checks": [
        "Contrast ratios meet WCAG AA minimum",
        "Accent color usage <10%",
        "Opacity hierarchy intentional",
        "Color meaning consistent"
      ],
      "tools": ["contrast_checker", "color_usage_analyzer"]
    },
    "spacing": {
      "checks": [
        "All spacing uses design tokens",
        "Spacing hierarchy intentional",
        "Related elements grouped tightly",
        "Major sections well separated"
      ],
      "tools": ["design_dna_linter", "spacing_analyzer"]
    },
    "components": {
      "checks": [
        "All interactive states defined",
        "Consistent styling across instances",
        "Hover/focus states clear",
        "Touch targets minimum 44px on mobile"
      ],
      "tools": ["component_inspector", "state_coverage_checker"]
    },
    "animation": {
      "checks": [
        "Duration ≤0.3s",
        "Movement ≤4px",
        "No auto-playing animations",
        "Purpose clear for each animation"
      ],
      "tools": ["animation_analyzer"]
    },
    "accessibility": {
      "checks": [
        "Contrast ratios pass WCAG AA",
        "Focus states visible",
        "Keyboard navigation works",
        "Screen reader compatible"
      ],
      "tools": ["axe_devtools", "lighthouse", "keyboard_navigation_test"]
    }
  },
  "quality_gates": {
    "before_implementation": {
      "required": [
        "Visual hierarchy clear in design mockup",
        "Spacing system defined",
        "Typography scale established",
        "Color palette with hierarchy defined",
        "Component states specified"
      ]
    },
    "during_implementation": {
      "required": [
        "Design DNA linter runs on code",
        "Spacing values verified against tokens",
        "Font sizes verified against scale",
        "Color usage verified against palette"
      ]
    },
    "before_shipping": {
      "required": [
        "Screenshot verification (eyes test)",
        "Design DNA linter passes",
        "Contrast checker passes",
        "Responsive design tested",
        "Accessibility audit passes"
      ]
    }
  },
  "anti_patterns": {
    "common_mistakes": [
      "Eyeballing alignment instead of calculating",
      "Using random spacing values",
      "Decorative font weight changes",
      "Overusing accent colors",
      "Missing hover/focus states",
      "Auto-playing animations",
      "Low contrast text",
      "Tiny touch targets on mobile",
      "Inconsistent component styling",
      "Breaking visual hierarchy with competing elements"
    ],
    "instant_fail_violations": [
      "Unreadable text (contrast <4.5:1 or size too small)",
      "No keyboard navigation support",
      "Missing focus states",
      "Random spacing throughout (no system)",
      "Breaking established component patterns",
      "Auto-playing animations without user control"
    ]
  },
  "evolution": {
    "taste_drift_detection": "If user overrides same rule 5+ times, flag for schema update",
    "pattern_learning": "Approved designs feed into Taste Playbook for pattern extraction",
    "schema_versioning": "Major changes create new version (v1.0.0 → v2.0.0)",
    "cross_project_synthesis": "Patterns that work across multiple projects become universal principles"
  }
}
