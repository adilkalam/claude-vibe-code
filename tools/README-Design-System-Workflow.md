# Design System Master Reference Workflow

**Purpose:** Tools to help YOU create design system documentation in YOUR PROJECT, with HTML visualization and JSON DNA generation.

---

## ðŸš¨ CRITICAL: Read This First

**claude-vibe-code** is ONLY the meta-orchestrator. It provides TOOLS and AGENTS.

**YOUR PROJECT** (OBDN, PeptideFox, etc.) is where YOU:
- Create `design-system.md` (master reference)
- Generate `design-system.html` (HTML visualization)
- Create `.claude/design-dna/{project}.json` (programmatic constraints)

**claude-vibe-code does NOT have its own design-system.md.** It just provides the tools YOU use IN YOUR projects.

**All commands shown below run FROM YOUR PROJECT directory.**

---

## The Workflow (IN YOUR PROJECT)

```
YOUR PROJECT DIRECTORY (e.g., /Users/you/MyApp/)
â”‚
â”œâ”€â”€ design-system.md                    (STEP 1: Master reference - you create)
â”‚   â””â”€> Human-readable documentation
â”‚       - Typography, colors, spacing, components
â”‚       - Design principles and usage guidelines
â”‚       - MASTER SOURCE OF TRUTH
â”‚
â”œâ”€â”€ design-system.html                  (STEP 2: HTML visualization - auto-generated)
â”‚   â””â”€> Generated by: ~/claude-vibe-code/tools/design-system-viewer.sh --open
â”‚       - Beautiful rendered view
â”‚       - Review in browser
â”‚
â””â”€â”€ .claude/design-dna/myapp.json      (STEP 3: Programmatic constraints - you create)
    â””â”€> Machine-readable JSON
        - Enforced by ui-guard.sh, AutoTokenLint.swift
        - You manually create from design-system.md (for now)
```

---

## File Purposes

### 1. `design-system.md` (MASTER REFERENCE - IN YOUR PROJECT)

**Location:** In YOUR project directory (e.g., `/Users/you/OBDN/design-system.md` or `/Users/you/PeptideFox/docs/design-system.md`)

**Purpose:** Human-readable design system documentation for YOUR project

**Who creates:** YOU (for YOUR project - OBDN, PeptideFox, etc.)

**What it contains:**
- Design philosophy and principles
- Typography system (fonts, sizes, weights, hierarchy)
- Color palette (backgrounds, text, accents, semantic)
- Spacing scale (base grid, tokens, layout constants)
- Component patterns (buttons, cards, forms, navigation)
- Usage guidelines and examples
- Do's and don'ts

**Format:** Markdown with clear sections

**Example structure:**
```markdown
# Project Name Design System

## Philosophy
Luxe minimalism with medical precision...

## Typography
- Primary: Domaine Sans Display (24px minimum)
- Body: Supreme LL 300-400
- Code: Unica77 Mono

## Colors
### Foundation
- Background: #0C051C
- Surface: #1A1625
- Text: White with opacity scale

### Accent
- Gold: #C9A961 (5% usage max - data values only)
- Purple: #8B5CF6

## Spacing
- Base grid: 4px
- Scale: 4, 8, 12, 16, 24, 32, 48, 64
- Gutter: 16px (ONE padding per page)

## Components
### Buttons
- Min height: 44pt
- Padding: 16px horizontal, 12px vertical
- Border radius: 12px
...
```

---

### 2. `design-system.html` (HTML VISUALIZATION - IN YOUR PROJECT)

**Location:** Generated in YOUR project directory (same folder as design-system.md)

**Purpose:** Beautiful browser view of YOUR design system for review

**Who creates:** Auto-generated by running `~/claude-vibe-code/tools/design-system-viewer.sh` FROM YOUR PROJECT

**What it shows:**
- Rendered markdown with design system styling
- Uses actual design tokens in CSS (colors, spacing, typography)
- Easy to review and share with stakeholders

**Generate (run FROM YOUR PROJECT):**
```bash
cd /Users/you/OBDN  # Go to YOUR project

# Generate HTML
~/claude-vibe-code/tools/design-system-viewer.sh

# Generate and open in browser
~/claude-vibe-code/tools/design-system-viewer.sh --open
```

**Output:** `design-system.html` in YOUR project directory

**View:** Opens automatically in browser, or open `file://[your-project]/design-system.html`

---

### 3. `.claude/design-dna/{project}.json` (PROGRAMMATIC CONSTRAINTS)

**Purpose:** Machine-readable design constraints for enforcement

**Who creates:** You (manually, for now)

**What it contains:**
```json
{
  "schema_version": "1.0.0",
  "project": "projectname",
  "philosophy": {
    "aesthetic": "luxe minimalism",
    "principles": [...]
  },
  "typography": {
    "decision_tree": {...},
    "type_scale": {...}
  },
  "colors": {
    "foundation": {...},
    "accent": {...}
  },
  "spacing": {
    "base_grid": 4,
    "tokens": {...}
  },
  "components": {...},
  "critical_rules": {...},
  "forbidden": [...]
}
```

**Used by:**
- `tools/ui-guard.sh` (checks DNA exists, Rule 0)
- `tools/AutoTokenLint.swift` (blocks build if missing)
- `agents/specialists/design-specialists/design-dna-linter.md` (validates code)
- `agents/specialists/design-specialists/style-translator.md` (reads constraints)
- `agents/specialists/design-specialists/design-compiler.md` (generates from DNA)

**Schema reference:** See `docs/DESIGN_DNA_SYSTEM.md`

---

## Daily Workflow (IN YOUR PROJECT)

### When starting YOUR new project (e.g., OBDN, PeptideFox):

1. **Create master reference IN YOUR PROJECT:**
   ```bash
   cd /Users/you/OBDN  # Your project

   # Create design system documentation
   touch design-system.md
   # OR
   mkdir -p docs && touch docs/design-system.md

   # Document YOUR design system (typography, colors, spacing, etc.)
   # This is YOUR MASTER - keep it updated
   ```

2. **Generate HTML visualization FROM YOUR PROJECT:**
   ```bash
   cd /Users/you/OBDN  # Stay in your project

   ~/claude-vibe-code/tools/design-system-viewer.sh --open

   # Reviews YOUR design-system.html in browser
   # Share with stakeholders
   ```

3. **Create JSON DNA FOR YOUR PROJECT:**
   ```bash
   cd /Users/you/OBDN  # Your project

   # Manually create programmatic constraints
   mkdir -p .claude/design-dna
   touch .claude/design-dna/obdn.json

   # Copy structure from ~/claude-vibe-code/docs/DESIGN_DNA_SYSTEM.md
   # Encode YOUR design-system.md rules as JSON
   ```

4. **Verify enforcement IN YOUR PROJECT:**
   ```bash
   cd /Users/you/OBDN  # Your project

   # Run UI Guard to verify YOUR DNA is detected
   ~/claude-vibe-code/tools/ui-guard.sh .

   # Should pass Rule 0 (Design DNA exists for OBDN)
   ```

---

### When updating YOUR design system:

1. **Update YOUR master reference:**
   ```bash
   cd /Users/you/OBDN

   # Edit YOUR design-system.md
   # Add new patterns, update tokens, refine guidelines
   ```

2. **Regenerate YOUR HTML:**
   ```bash
   cd /Users/you/OBDN

   ~/claude-vibe-code/tools/design-system-viewer.sh --open

   # Review YOUR changes in browser
   ```

3. **Update YOUR JSON DNA:**
   ```bash
   cd /Users/you/OBDN

   # Manually sync changes to YOUR .claude/design-dna/obdn.json
   # Ensure YOUR programmatic constraints match YOUR master reference
   ```

4. **Verify:**
   ```bash
   cd /Users/you/OBDN

   # Ensure UI Guard still passes for YOUR project
   ~/claude-vibe-code/tools/ui-guard.sh .
   ```

---

## File Relationships (IN YOUR PROJECT)

```
YOUR PROJECT (e.g., /Users/you/OBDN/)
â”‚
â”œâ”€â”€ design-system.md (MASTER - you maintain)
â”‚   â”‚
â”‚   â”œâ”€â†’ design-system.html (Visual review)
â”‚   â”‚   Generated by: ~/claude-vibe-code/tools/design-system-viewer.sh
â”‚   â”‚
â”‚   â””â”€â†’ .claude/design-dna/obdn.json (Programmatic enforcement)
â”‚       Created by: You (manual, for now)
â”‚       Used by: ui-guard.sh, AutoTokenLint.swift, design-dna-linter
```

**Key principle:** YOUR `design-system.md` is the human truth, YOUR JSON DNA is the machine truth. Keep THEM in sync.

---

## Commands (RUN FROM YOUR PROJECT)

### Generate HTML visualization:
```bash
cd /Users/you/OBDN  # Your project

~/claude-vibe-code/tools/design-system-viewer.sh           # Generate only
~/claude-vibe-code/tools/design-system-viewer.sh --open    # Generate and open
```

### Verify DNA enforcement:
```bash
cd /Users/you/OBDN  # Your project

~/claude-vibe-code/tools/ui-guard.sh .                     # Check DNA exists + layout laws
~/claude-vibe-code/tools/AutoTokenLint.swift .             # Check DNA exists + token usage
```

---

## Future Enhancements (Not Built Yet)

**Automatic JSON generation:**
- Tool to parse `design-system.md` â†’ generate `.claude/design-dna/{project}.json`
- Bi-directional sync (JSON updates â†’ markdown annotations)

**Live preview:**
- Watch `docs/design-system.md` for changes
- Auto-regenerate HTML on save
- Hot reload in browser

**Component previews:**
- Render actual components using design tokens
- Interactive examples in HTML view

---

**Created:** 2025-10-25  
**Status:** HTML visualization ready, JSON creation manual  
**Next:** Explore automated JSON generation from markdown
